(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{123:function(e,t,n){e.exports={app:"App_app__1U2Qu"}},125:function(e,t,n){e.exports={error:"formsControl_error__2dUvn"}},127:function(e,t,n){e.exports={buttonStyle:"customButton_buttonStyle__25O9O"}},128:function(e,t,n){e.exports={loadingWrapper:"loadingPage_loadingWrapper__3Gg8y"}},129:function(e,t,n){},13:function(e,t,n){e.exports={content:"profile_content__fUO9X",profileHitter:"profile_profileHitter__22wCT",userAvatar:"profile_userAvatar__2oCsv",avatarWrapper:"profile_avatarWrapper__20HaL",customInput:"profile_customInput__2KM89",firstAbout:"profile_firstAbout__1ziJ2",secondAbout:"profile_secondAbout__H7RI3",aboutWrapper:"profile_aboutWrapper__j3NGD",aboutUser:"profile_aboutUser__3v2-Z",posts:"profile_posts__KILcD",textAreaInput:"profile_textAreaInput__wZdOc",writePost:"profile_writePost__3B1Wb",buttonBox:"profile_buttonBox__1nEck",post:"profile_post__ahNa1",icone:"profile_icone__37mC5",buttonWrapper:"profile_buttonWrapper___TKi5",customStatus:"profile_customStatus__1FHCp"}},18:function(e,t,n){e.exports={wrapper:"messages_wrapper__2m5kz",dialogs:"messages_dialogs__Pf99-",messages:"messages_messages__3Aeoc",writeMessage:"messages_writeMessage__19-lI",wrapperPost:"messages_wrapperPost__35lcT",icon:"messages_icon__3R1OR",wrapperPostText:"messages_wrapperPostText__2twKc",messageUser:"messages_messageUser__2GJWm",textAreaInput:"messages_textAreaInput__2UZdy",textAreaWrapper:"messages_textAreaWrapper__2qr0D",buttonWrapper:"messages_buttonWrapper__2I37c",userButtonWrapper:"messages_userButtonWrapper__2oSqq",userLink:"messages_userLink__3wJu7"}},22:function(e,t,n){e.exports={sideBar:"sidebar_sideBar__3weql",menu:"sidebar_menu__39MBJ",navElement:"sidebar_navElement__2HbfM",sideButton:"sidebar_sideButton__3eluO",userList:"sidebar_userList__38eaz",login:"sidebar_login__1MB4A"}},23:function(e,t,n){e.exports={content:"user_content__3OLCG",userWrapper:"user_userWrapper__2bAws",username:"user_username__1KGki",userIcone:"user_userIcone__2tWaO",textWrapper:"user_textWrapper__21Z_d",buttonStyle:"user_buttonStyle__2qC9U",buttonWrapper:"user_buttonWrapper__3EQo5",pageNumWrapper:"user_pageNumWrapper__WH7xj",commonLi:"user_commonLi__1OwNP",activeLi:"user_activeLi__3w8gB",wrapperLoadIcone:"user_wrapperLoadIcone__3RHFa"}},283:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(64),c=n.n(s),i=n(29),u=n(30),o=n(32),l=n(31),d=n(123),p=n.n(d),j=n(68),b=n.n(j),h=n(11),m=n(0),f=Object(h.b)((function(e){return{auth:e.auth}}))((function(e){return Object(m.jsxs)("header",{className:b.a.header,children:[Object(m.jsx)("h3",{className:b.a.headerTitle,children:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c"}),Object(m.jsx)("h3",{className:b.a.login,children:e.auth.login})]})})),g=n(8),O=n.n(g),x=n(16),_=n(33),v=n(3),w=n(28),P=n(124).create({withCredentials:!0,headers:{"API-KEY":"ec60f1de-a2b2-4c79-9592-52195d4db1e8"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),k=function(e){return P.get("users?count=".concat(e)).then((function(e){return e.data}))},C=function(e){return P.get("users?page=".concat(e)).then((function(e){return e.data}))},T=function(e){return P.post("follow/".concat(e)).then((function(e){return e.data}))},N=function(e){return P.delete("follow/".concat(e)).then((function(e){return e.data}))},S=function(){return P.get("auth/me")},A=function(e){return P.put("profile",e)},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return P.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},E=function(){return P.delete("auth/login")},F=function(e){var t=new FormData;return t.append("image",e),P.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}})},U=function(){return P.get("security/get-captcha-url")},I=function(e){return P.get("profile/".concat(e))},L=function(e){return P.get("profile/status/".concat(e))},M=function(e){return P.put("profile/status",{status:e})},W="profile-reducer/ADD_POST",D="profile-reducer/SET_USER",H="profile-reducer/SET_STATUS",B="profile-reducer/SAVE_PHOTO_SUCCESS",G={newPostText:"",posts:[{message:"Hello",id:1},{message:"How are u?",id:2},{message:"Hi",id:5},{message:"Privet",id:3},{message:"Kak dela",id:2}],profile:"",status:""},q=function(e){return{type:"profile-reducer/SET_STATUS",status:e}},R=function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:r=t.sent,n({type:"profile-reducer/SET_USER",user:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(v.a)(Object(v.a)({},e),{},{posts:[].concat(Object(_.a)(e.posts),[{message:t.newPostText,id:5}])});case D:return Object(v.a)(Object(v.a)({},e),{},{profile:t.user});case H:return Object(v.a)(Object(v.a)({},e),{},{status:t.status});case B:return Object(v.a)(Object(v.a)({},e),{},{profile:Object(v.a)(Object(v.a)({},e.profile),{},{photos:t.photo})});default:return e}},J=n(46),K=n.p+"static/media/heatter.cc38c3a0.jpg",V=n.p+"static/media/loader.70ef5a99.svg",Z=n(13),Q=n.n(Z),X=function(e){var t=Object(r.useState)(!1),n=Object(J.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(e.profilePage.status),i=Object(J.a)(c,2),u=i[0],o=i[1];Object(r.useEffect)((function(){o(e.profilePage.status)}),[e.profilePage.status]);return Object(m.jsx)(m.Fragment,{children:a?Object(m.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},onBlur:function(){s(!1),e.updateStatusThunkCreator(u)},autoFocus:!0,type:"text",value:u}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),Object(m.jsx)("b",{className:Q.a.customStatus,onDoubleClick:function(){s(!0)},children:u||"------"})]})})},Y=n(120),$=n(121),ee=function(e){return e?void 0:"\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"},te=function(e){return function(t){if(t)return t.length<=e?void 0:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},ne=n(70),re=n(125),ae=n.n(re),se=["input","meta","child"],ce=["input","meta","child"],ie=["input","meta","child"],ue=function(e){e.input;var t=e.meta,n=(e.child,Object(ne.a)(e,se)),r=t.touched&&t.error;return Object(m.jsxs)("div",{className:r?ae.a.error:"",children:[n.children,r?Object(m.jsx)("div",{children:t.error}):""]})},oe=function(e){var t=e.input,n=(e.meta,e.child,Object(ne.a)(e,ce));return Object(m.jsx)(ue,Object(v.a)(Object(v.a)({},e),{},{children:Object(m.jsx)("textarea",Object(v.a)(Object(v.a)({},t),n))}))},le=function(e){var t=e.input,n=(e.meta,e.child,Object(ne.a)(e,ie));return Object(m.jsx)(ue,Object(v.a)(Object(v.a)({},e),{},{children:Object(m.jsx)("input",Object(v.a)(Object(v.a)({},t),n))}))},de=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(m.jsxs)("div",{children:[Object(m.jsx)(Y.a,Object(v.a)({plaseholder:e,name:t,validate:n,component:r},a))," ",s]})},pe=n(127),je=n.n(pe),be=function(e){var t=e.cb,n=e.children;return Object(m.jsx)("button",{onClick:t,className:je.a.buttonStyle,children:n})},he=function(e){return Object(m.jsxs)("div",{className:Q.a.post,children:[Object(m.jsx)("div",{className:Q.a.icone}),e.post]})},me=te(10),fe=Object($.a)({form:"post"})((function(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{className:Q.a.writePost,children:Object(m.jsx)(Y.a,{className:Q.a.textAreaInput,validate:[me],placeholder:"Login",name:"newPostText",component:oe})}),Object(m.jsx)("div",{className:Q.a.buttonBox,children:Object(m.jsx)(be,{cb:e.handleSubmit,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),ge=function(e){var t=Object(r.useState)(!1),n=Object(J.a)(t,2),a=n[0],s=n[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("ul",{className:Q.a.aboutWrapper,children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"Full name:"})," ",e.profile.fullName]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"Looking for a job:"})," ",e.profile.lookingForAJob?"Yes":"No"]}),e.profile.lookingForAJob&&Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"My proffessionals skils:"})," ",e.profile.lookingForAJobDescription]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"About me:"})," ",e.profile.aboutMe]}),a&&Object(m.jsxs)("li",{className:Q.a.contactsWrapper,children:[Object(m.jsx)("b",{children:"Contacts:"}),Object(m.jsx)("ul",{children:Object.keys(e.profile.contacts).map((function(t){return Object(m.jsx)(xe,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))})]})]}),Object(m.jsxs)("div",{className:Q.a.buttonWrapper,children:[a?Object(m.jsx)(be,{cb:function(){return s(!1)},children:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}):Object(m.jsx)(be,{cb:function(){return s(!0)},children:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"}),e.isOwner&&Object(m.jsx)(be,{cb:e.editMode,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})},Oe=Object($.a)({form:"aboutUserForm"})((function(e){var t=e.handleSubmit,n=e.initialValues,r=e.error;return Object(m.jsxs)("form",{onSubmit:t,children:[r&&Object(m.jsx)("div",{children:r}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"Full name:"})," ",de("Full name","fullName",[],le)]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"Looking for a job:"})," ",Object(m.jsx)(Y.a,{component:"input",name:"lookingForAJob",type:"checkbox"})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"My proffessionals skils:"})," ",de("skils","lookingForAJobDescription",[],le)]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"About me:"})," ",de("About me","aboutMe",[],le)]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:"Contacts:"}),Object(m.jsx)("ul",{children:Object.keys(n.contacts).map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("b",{children:[e,":"]})," ",de(e,"contacts."+e,null,le)]})}))})]}),Object(m.jsx)("li",{children:Object(m.jsx)(be,{cb:t,children:"Save"})})]})]})})),xe=function(e){var t=e.contactTitle,n=e.contactValue;return Object(m.jsxs)("li",{children:[Object(m.jsx)("b",{children:t}),": ",n]})},_e=function(e){var t=Object(r.useState)(!1),n=Object(J.a)(t,2),a=n[0],s=n[1],c=e.profilePage.posts.map((function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(he,{post:e.message})})}));return Object(m.jsxs)("div",{className:Q.a.content,children:[Object(m.jsx)("img",{src:K,className:Q.a.profileHitter}),Object(m.jsxs)("div",{className:Q.a.avatarWrapper,children:[Object(m.jsx)("img",{src:e.profilePage.profile?e.profilePage.profile.photos.large:V,className:Q.a.userAvatar}),e.isOwner&&Object(m.jsx)("input",{name:"file",id:"file",type:"file",onChange:function(t){t.target.files.length&&e.savePhotoThunk(t.target.files[0])}}),e.isOwner&&Object(m.jsx)("label",{for:"file",className:Q.a.customInput,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})]}),Object(m.jsxs)("div",{className:Q.a.aboutUser,children:[Object(m.jsxs)("div",{className:Q.a.firstAbout,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:e.profilePage.profile.fullName}),Object(m.jsx)(X,{profilePage:e.profilePage,updateStatusThunkCreator:e.updateStatusThunkCreator})]}),Object(m.jsx)("p",{children:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: 03.04."}),Object(m.jsx)("p",{children:"\u0413\u043e\u0440\u043e\u0434: \u041c\u043e\u0441\u043a\u0432\u0430"}),Object(m.jsx)("p",{children:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435: \u041c\u0410\u0422\u0418"})]}),Object(m.jsx)("div",{className:Q.a.secondAbout,children:a?Object(m.jsx)(Oe,{onSubmit:function(t){e.saveAboutMeThunk(t).then((function(){s(!1)}))},initialValues:e.profilePage.profile}):e.profilePage.profile&&Object(m.jsx)(ge,{editMode:function(){s(!0)},isOwner:e.isOwner,profile:e.profilePage.profile})})]}),Object(m.jsxs)("div",{className:Q.a.posts,children:[Object(m.jsx)("div",{children:Object(m.jsx)("h3",{children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"})}),Object(m.jsx)(fe,{onSubmit:function(t){e.addPost(t.newPostText),t.newPostText=""}}),c]})]})},ve=n(12),we=function(e){return{auth:e.auth.isAuth}},Pe=function(e){var t=function(t){Object(o.a)(r,t);var n=Object(l.a)(r);function r(){return Object(i.a)(this,r),n.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return this.props.auth?Object(m.jsx)(e,Object(v.a)({},this.props)):Object(m.jsx)(ve.a,{to:"/Login"})}}]),r}(a.a.Component);return Object(h.b)(we)(t)},ke=n(10),Ce=function(e){return e.profilePage},Te=function(e){return e.auth.id},Ne=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){e.match.params.id!=this.props.match.params.id&&this.refreshProfile()}},{key:"refreshProfile",value:function(){var e=this.props.match.params.id?this.props.match.params.id:this.props.authMe;this.props.getProfileThunkCreator(e),this.props.getStatusThunkCreator(e)}},{key:"render",value:function(){return Object(m.jsx)(_e,{profilePage:this.props.profilePage,addPost:this.props.addPost,updateStatusThunkCreator:this.props.updateStatusThunkCreator,isOwner:this.props.match.params.id==this.props.authMe,savePhotoThunk:this.props.savePhotoThunk,saveAboutMeThunk:this.props.saveAboutMeThunk})}}]),n}(a.a.Component),Se=Object(ke.d)(Object(h.b)((function(e){return{profilePage:Ce(e),authMe:Te(e)}}),{addPost:function(e){return{type:"profile-reducer/ADD_POST",newPostText:e}},getProfileThunkCreator:R,getStatusThunkCreator:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:r=t.sent,n(q(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusThunkCreator:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:0==t.sent.data.resultCode&&n(q(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:0==(r=t.sent).data.resultCode&&n({type:"profile-reducer/SAVE_PHOTO_SUCCESS",photo:r.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveAboutMeThunk:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n,r){var a,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.id,t.next=3,A(e);case 3:if(0!=(s=t.sent).data.resultCode){t.next=8;break}n(R(a)),t.next=10;break;case 8:return n(Object(w.a)("aboutUserForm",{_error:s.data.messages[0]})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),ve.g,Pe)(Ne),Ae="messages-reducer/ADD_MESSAGE",ye="messages-reducer/GET_DIALOGS",Ee={messages:[{message:"Hello",id:1},{message:"How are u?",id:2},{message:"Hi",id:5}],dialogs:[]},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(v.a)(Object(v.a)({},e),{},{messages:[].concat(Object(_.a)(e.messages),[{message:t.message,id:3}])});case ye:return Object(v.a)(Object(v.a)({},e),{},{dialogs:Object(_.a)(t.dialogs)});default:return e}},Ue=n(18),Ie=n.n(Ue),Le=n(14),Me=te(300),We=function(e){return Object(m.jsxs)("div",{id:"wrapperPost",className:Ie.a.wrapperPost,children:[Object(m.jsx)("div",{className:Ie.a.icon,children:" "}),Object(m.jsxs)("div",{className:Ie.a.wrapperPostText,children:[Object(m.jsx)("h4",{className:Ie.a.messageUser,children:e.username}),Object(m.jsx)("p",{children:e.message})]})]})},De=Object($.a)({form:"messageForm"})((function(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{className:Ie.a.textAreaWrapper,children:Object(m.jsx)(Y.a,{className:Ie.a.textAreaInput,placeholder:"Write message",name:"message",component:oe,validate:Me})}),Object(m.jsx)("div",{className:Ie.a.buttonWrapper,children:Object(m.jsx)(be,{cb:e.viewElement,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})})),He=function(e){var t=[],n=Object(ve.f)().id,r=e.messagesPage.dialogs.findIndex((function(e){return e.username===n})),a=e.messagesPage.dialogs[r];a&&(t=a.messages.map((function(t){return Object(m.jsx)(We,{authLogin:e.authLogin,username:t.username,message:t.message},t.id)})));return Object(m.jsxs)("content",{className:Ie.a.wrapper,children:[Object(m.jsx)("div",{className:Ie.a.dialogs,children:Object(m.jsx)("ul",{className:Ie.a.userButtonWrapper,children:e.messagesPage.dialogs.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(Le.b,{className:Ie.a.userLink,to:"/Messages/"+e.username,children:Object(m.jsx)("p",{children:e.username})},e.username)})}))})}),Object(m.jsx)("div",{id:"messages",className:Ie.a.messages,children:t}),Object(m.jsx)("div",{className:Ie.a.writeMessage,children:Object(m.jsx)(De,{viewElement:function(){var e=document.getElementById("messages");e.scrollTop=e.scrollHeight},onSubmit:function(t){e.addMessageDialogs(t.message)}})})]})},Be=[{username:"john",messages:[{username:"john",id:"1",message:"Fugiat et incididunt."},{username:"authUser",id:"2",message:"Fugiat et incididunt adipisicing amet amet esse sit est qui ex tempor anim labore sunt."},{username:"john",id:"3",message:"Fugiat et incididunt adipisicing amet amet esse sit est qui ex tempor."},{username:"john",id:"20",message:"Fugiat et incididunt adipisicing amet amet esse sit est ."},{username:"authUser",id:"4",message:"Fugiat et incididunt adipisicing amet."}]},{username:"Elizabeth",messages:[{username:"authUser",id:"5",message:"Laborum et consequat nostrud eiusmod proident deserunt laborum est."},{username:"Elizabeth",id:"6",message:"Fugiat et incididunt adipisicing."},{username:"Elizabeth",id:"7",message:"Aliqua esse enim pariatur ea."},{username:"authUser",id:"8",message:"Fugiat et incididunt adipisicing amet amet esse sit est ."},{username:"authUser",id:"9",message:"Incididunt ipsum eu deserunt cupidatat eu nostrud aute cillum minim ipsum ad ipsum aliqua. Aliqua esse enim pariatur ea."}]},{username:"Anna",messages:[{username:"Anna",id:"10",message:"Incididunt ipsum eu deserunt cupidatat eu nostrud aute cillum minim ipsum ad ipsum aliqua."},{username:"authUser",id:"11",message:"Fugiat et incididunt adipisicing amet amet esse sit est qui ex tempor anim labore sunt."},{username:"Anna",id:"12",message:"Incididunt ipsum eu deserunt cupidatat eu."},{username:"authUser",id:"13",message:"Fugiat et incididunt."},{username:"Anna",id:"14",message:"Fugiat et incididunt adipisicing amet."}]},{username:"Mark",messages:[{username:"Mark",id:"15",message:"Aliqua esse enim pariatur ea."},{username:"Mark",id:"16",message:"Fugiat et incididunt adipisicing amet amet esse sit est qui ex tempor anim labore sunt."},{username:"Mark",id:"17",message:"Fugiat et incididunt adipisicing amet amet esse sit est qui ex tempor."},{username:"Mark",id:"18",message:"Id pariatur velit enim non et eu nisi occaecat quis sunt consectetur proident consectetur laborum. Laborum et consequat nostrud eiusmod proident deserunt laborum est."},{username:"authUser",id:"19",message:"Id pariatur velit enim non et eu nisi occaecat quis sunt consectetur proident consectetur laborum."}]}],Ge=Object(ke.d)(Object(h.b)((function(e){return{messagesPage:e.messagesPage,auth:e.auth.isAuth,login:e.auth.login}}),(function(e){return{addMessageDialogs:function(t){e(function(e){return{type:"messages-reducer/ADD_MESSAGE",message:e}}(t))},getDialogs:function(t){e({type:"messages-reducer/GET_DIALOGS",dialogs:t})}}})),Pe)((function(e){return Object(r.useEffect)((function(){e.getDialogs(Be)}),[]),Object(m.jsx)(He,{messagesPage:e.messagesPage,auth:e.auth,addMessageDialogs:e.addMessageDialogs,authLogin:e.login})})),qe=n(128),Re=n.n(qe),ze=function(){return Object(m.jsx)("div",{className:Re.a.loadingWrapper,children:Object(m.jsx)("img",{src:V})})},Je=n(23),Ke=n.n(Je),Ve=function(e){return Object(m.jsxs)("div",{className:Ke.a.userWrapper,children:[Object(m.jsx)("div",{className:Ke.a.userIcone}),Object(m.jsxs)("div",{className:Ke.a.textWrapper,children:[Object(m.jsx)(Le.b,{to:"/Profile/"+e.userID,className:Ke.a.username,children:e.userName}),Object(m.jsx)("p",{className:Ke.a.about,children:e.status})]}),Object(m.jsx)(be,{disabled:e.userFollowIsFetching.some((function(t){return t==e.userID})),cb:function(){e.followed?e.unfollowOnUserThunkCreator(e.userID):e.followOnUserThunkCreator(e.userID)},children:e.followed?"unfollow":"follow"})]})},Ze=(n.p,function(e){for(var t=[],n=0;n<5;n++)e.userPage.currentPage-2+n>0&&e.userPage.currentPage-2+n<=e.userPage.amountPage&&t.push(e.userPage.currentPage-2+n);return Object(m.jsxs)("div",{className:Ke.a.content,children:[Object(m.jsx)("div",{children:e.userPage.pageLoad?Object(m.jsx)(ze,{}):e.userPage.users.map((function(t){return Object(m.jsx)(Ve,{userName:t.name,status:t.status,followed:t.followed,userID:t.id,followFetching:e.followFetching,unfollowFetching:e.unfollowFetching,followingInProgress:e.userPage.followingInProgress,userFollowIsFetching:e.userPage.userFollowIsFetching,followOnUserThunkCreator:e.followOnUserThunkCreator,unfollowOnUserThunkCreator:e.unfollowOnUserThunkCreator})}))}),Object(m.jsxs)("div",{className:Ke.a.buttonWrapper,children:[Object(m.jsx)(be,{cb:function(){e.onPageChange(e.userPage.currentPage-1)},children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object(m.jsx)("ul",{className:Ke.a.pageNumWrapper,children:t.map((function(t){return Object(m.jsx)("li",{onClick:function(){e.onPageChange(t)},className:e.userPage.currentPage==t?Ke.a.activeLi:Ke.a.commonLi,children:t})}))}),Object(m.jsx)(be,{cb:function(){e.onPageChange(e.userPage.currentPage+1)},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})]})}),Qe="user-reducer/FOLLOW",Xe="user-reducer/SET_USERS",Ye="user-reducer/SET_AMOUNT_PAGE",$e="user-reducer/CHANGE_CURRENT_PAGE",et="user-reducer/CHANGE_PAGE_LOAD",tt="user-reducer/FOLLOW_FETCHING",nt={users:[],currentPage:1,amountPage:0,amountUsers:10,pageLoad:!1,userFollowIsFetching:[],followingInProgress:!1},rt=function(e){return{type:"user-reducer/FOLLOW",id:e}},at=function(e){return{type:"user-reducer/SET_USERS",user:e}},st=function(e){return{type:"user-reducer/CHANGE_PAGE_LOAD",change:e}},ct=function(e,t){return{type:"user-reducer/FOLLOW_FETCHING",id:e,fetching:t}},it=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onPageChange=function(t){e.props.onPageChangeThunkCreator(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.userPage.amountUsers)}},{key:"render",value:function(){return Object(m.jsx)(Ze,{userPage:this.props.userPage,onPageChange:this.onPageChange,followOnUserThunkCreator:this.props.followOnUserThunkCreator,unfollowOnUserThunkCreator:this.props.unfollowOnUserThunkCreator})}}]),n}(a.a.Component),ut=Object(ke.d)(Object(h.b)((function(e){return{userPage:e.userPage}}),{getUsersThunkCreator:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(st(!0)),t.next=3,k(e);case 3:r=t.sent,n(st(!1)),n(at(r.items)),n({type:"user-reducer/SET_AMOUNT_PAGE",num:Math.ceil(r.totalCount/e)});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followOnUserThunkCreator:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ct(e,!0)),t.next=3,T(e);case 3:0==t.sent.resultCode&&n(rt(e)),n(ct(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowOnUserThunkCreator:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ct(e,!0)),t.next=3,N(e);case 3:0==t.sent.resultCode&&n(rt(e)),n(ct(e,!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},onPageChangeThunkCreator:function(e){return function(){var t=Object(x.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(st(!0)),t.next=3,C(e);case 3:r=t.sent,n(st(!1)),n({type:"user-reducer/CHANGE_CURRENT_PAGE",newCurrentPage:e}),n(at(r.items));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Pe)(it),ot=n(22),lt=n.n(ot),dt=function(e){return Object(m.jsx)("li",{children:e.name})},pt=function(e){[{name:"\u042f\u0440\u0438\u043a"},{name:"\u041f\u0430\u0448\u0430"},{name:"\u041d\u0430\u0434\u044f"},{name:"\u041d\u0430\u0441\u0442\u044f"},{name:"\u041c\u0438\u0448\u0430"}].map((function(e){return Object(m.jsx)(dt,{name:e.name})}));return Object(m.jsx)("sidebar",{className:lt.a.sideBar,children:Object(m.jsxs)("ul",{className:lt.a.menu,children:[Object(m.jsx)("li",{children:Object(m.jsx)(Le.b,{className:lt.a.navElement,to:"/Profile/"+e.auth.id,children:Object(m.jsx)("p",{className:lt.a.sideButton,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})}),Object(m.jsx)("li",{children:Object(m.jsx)(Le.b,{className:lt.a.navElement,to:"/Messages",children:Object(m.jsx)("p",{className:lt.a.sideButton,children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})})}),Object(m.jsx)("li",{children:Object(m.jsx)(Le.b,{className:lt.a.navElement,to:"/User",children:Object(m.jsx)("p",{className:lt.a.sideButton,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})})}),Object(m.jsx)("li",{children:Object(m.jsx)(Le.b,{className:lt.a.navElement,to:"/Settings",children:Object(m.jsx)("p",{className:lt.a.sideButton,children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})}),Object(m.jsx)("li",{className:lt.a.navElement,onClick:e.logout,children:Object(m.jsx)("p",{className:lt.a.sideButton,children:"\u0412\u044b\u0445\u043e\u0434"})})]})})},jt="auth-reducer/SET_AUTH_USER",bt="auth-reducer/SET_CAPCHA",ht={id:null,login:null,email:null,isAuth:!1,capcha:null},mt=function(e,t,n,r){return{type:"auth-reducer/SET_AUTH_USER",user:{id:e,email:t,login:n,isAuth:r}}},ft=function(e){return{type:"auth-reducer/SET_CAPCHA",capcha:e}},gt=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,s=r.email,c=r.login,t(mt(a,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ot=function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:n=e.sent,r=n.data.url,t(ft(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return Object(v.a)(Object(v.a)({},e),t.user);case bt:return Object(v.a)(Object(v.a)({},e),{},{capcha:t.capcha});default:return e}},_t=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"loginCheck",value:function(){this.props.getMyThunkCreator()}},{key:"logout",value:function(){this.props.logout()}},{key:"render",value:function(){return Object(m.jsx)(pt,{auth:this.props.auth,loginCheck:this.loginCheck.bind(this),logout:this.logout.bind(this)})}}]),n}(a.a.Component),vt=Object(h.b)((function(e){return{auth:e.auth}}),{getMyThunkCreator:gt,logout:function(){return function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===e.sent.data.resultCode&&t(mt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(_t),wt=n(129),Pt=n.n(wt),kt=Object($.a)({form:"login"})((function(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{children:Object(m.jsx)(Y.a,{name:"email",component:le,validate:ee})}),Object(m.jsx)("div",{children:Object(m.jsx)(Y.a,{placeholder:"Password",name:"password",type:"password",component:le,validate:ee})}),Object(m.jsx)("div",{children:Object(m.jsx)(Y.a,{component:"input",name:"rememberMe",type:"checkbox"})}),e.auth.capcha&&Object(m.jsx)("img",{src:e.auth.capcha}),e.auth.capcha&&de([],"capcha",ee,le),e.error&&Object(m.jsx)("div",{children:e.error}),Object(m.jsx)("button",{children:"Login"})]})})),Ct=Object(h.b)((function(e){return{auth:e.auth}}),{login:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var a=Object(x.a)(O.a.mark((function a(s){var c,i;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y(e,t,n,r);case 2:0===(c=a.sent).data.resultCode?s(gt()):(10===c.data.resultCode&&s(Ot()),i=c.data.messages.length>0?c.data.messages[0]:"some error",s(Object(w.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.auth.isAuth?Object(m.jsx)(ve.a,{to:"/Profile/".concat(e.auth.id)}):Object(m.jsxs)("div",{className:Pt.a.loginWrapper,children:[Object(m.jsx)("h1",{children:"LOGIN"}),Object(m.jsx)(kt,{onSubmit:function(t){console.log(t),e.login(t.email,t.password,t.rememberMe,t.capcha)},auth:e.auth})]})})),Tt="app-reducer/INITIALIZED_SUCCSESS",Nt={initialized:!1},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},At=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializedApp()}},{key:"render",value:function(){return this.props.initialized?Object(m.jsx)(Le.a,{children:Object(m.jsxs)("div",{className:p.a.app,children:[Object(m.jsx)(f,{}),Object(m.jsx)(vt,{}),Object(m.jsx)(ve.b,{path:"/Profile/:id",render:function(){return Object(m.jsx)(Se,{})}}),Object(m.jsx)(ve.b,{path:"/Messages/:id?",render:function(){return Object(m.jsx)(Ge,{})}}),Object(m.jsx)(ve.b,{path:"/User",render:function(){return Object(m.jsx)(ut,{})}}),Object(m.jsx)(ve.b,{path:"/Login",render:function(){return Object(m.jsx)(Ct,{})}})]})}):Object(m.jsx)(ze,{})}}]),n}(a.a.Component),yt=Object(ke.d)(ve.g,Object(h.b)((function(e){return{initialized:e.app.initialized,login:e.auth.id}}),{initializedApp:function(){return function(e){var t=e(gt());Promise.all([t]).then((function(){e({type:"app-reducer/INITIALIZED_SUCCSESS"})}))}}}))(At),Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,284)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},Ft="news-reducer/ADD_NEWS",Ut={newNewsText:"",news:[{message:"Hello",id:1},{message:"How are u?",id:2},{message:"Hi",id:5},{message:"Privet",id:3}]},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return Object(v.a)(Object(v.a)({},e),{},{news:[].concat(Object(_.a)(e.news),[{message:t.news,id:5}])});default:return e}},Lt=n(130),Mt=n(122),Wt=Object(ke.c)({messagesPage:Fe,profilePage:z,newsPage:It,userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(v.a)(Object(v.a)({},e),{},{users:e.users.map((function(e){return t.id===e.id&&(e.followed=!e.followed),e}))});case Xe:return Object(v.a)(Object(v.a)({},e),{},{users:Object(_.a)(t.user)});case Ye:return Object(v.a)(Object(v.a)({},e),{},{amountPage:t.num});case $e:return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.newCurrentPage});case et:return Object(v.a)(Object(v.a)({},e),{},{pageLoad:t.change});case tt:return Object(v.a)(Object(v.a)({},e),{},{followingInProgress:t.fetching,userFollowIsFetching:t.fetching?[].concat(Object(_.a)(e.userFollowIsFetching),[t.id]):e.userFollowIsFetching.filter((function(e){return e!=t.id}))});default:return e}},auth:xt,form:Mt.a,app:St}),Dt=Object(ke.e)(Wt,Object(ke.a)(Lt.a));c.a.render(Object(m.jsx)(Le.a,{children:Object(m.jsx)(h.a,{store:Dt,children:Object(m.jsx)(yt,{})})}),document.getElementById("root")),Et()},68:function(e,t,n){e.exports={header:"header_header__1IXp_",login:"header_login__2b0ph",headerTitle:"header_headerTitle__3pq_M"}}},[[283,1,2]]]);
//# sourceMappingURL=main.afba35c8.chunk.js.map